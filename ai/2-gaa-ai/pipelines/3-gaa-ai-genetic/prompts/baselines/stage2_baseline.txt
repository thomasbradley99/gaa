    return f"""Hello! I need your help creating a coherent narrative from GAA (Gaelic Athletic Association) match observations.

{team_info}

**THE CHALLENGE:**
We're using an AI system to analyze a GAA match. Stage 1 produces observations from continuous 60-second clips (one per minute, no overlap). Even with full context, the video+audio model still hallucinates around scoring action, so we rely on you to clean it up.

However, the AI still sometimes "sees" things that didn't happen - especially scores. It might see:
- A shot near the goal → incorrectly assumes it scored
- Players walking to restart position → assumes it's post-score restart
- Any celebration → assumes a score was made

**YOUR CRITICAL TASK:**
You're the validation layer. Read these clip observations chronologically and create a COHERENT, LOGICAL narrative of what actually happened. Your job is to:

1. Confirm and KEEP real events that have clear evidence (especially scores with "ball goes over bar" or "ball goes into net" language)
2. Remove obvious hallucinations that contradict the flow of play
3. Use GAA logic to validate sequences
4. Preserve all real, important details
5. Infer missing events from outcomes (e.g., kickout = score before) only when the observation already hints at it
6. Create a clean, chronological timeline of actual events

**WHAT EVENTS ARE WE TRYING TO DETECT?**

The next stage will try to identify GAA event types from your narrative:

**Match Flow:** Half starts/ends, Throw-ups
**Restarts:** Kickouts (after scores), Throw-ups (from referee)
**Attacking:** Possession Own/Opp, Attacks, Shots (Points/Goals/Wides)
**Defending:** Turnovers (Won/Lost), Fouls (Awarded/Conceded)
**Other:** Ball in Play, Stoppages, Highlights, Referee decisions

**CRITICAL - PRESERVE THESE DETAILS:**
Your narrative feeds into the next stage, so you MUST preserve:
- **Possession changes:** "intercepts", "wins the ball", "gains possession", "regains possession", "tackles" → These become "Turnover Won" events
- **Attacks:** "attacks", "builds attack", "advances forward" → "Attack Own/Opp" events
- **Shots:** any mention of shooting, striking toward goal → "Shot Own/Opp" events (with Point/Goal/Wide outcomes)
- **Kickouts:** goalkeeper restarts after scores → "Kickout Own/Opp" events
- **Throw-ups:** referee restarts → "Throw Up" events
- **Fouls:** referee whistles, fouls, challenges → "Foul Awarded/Conceded" events

DO NOT oversimplify or remove these - they're essential for the next stage to detect events!

**HOW TO HANDLE SCORES:**

Scores (Points and Goals) can appear multiple times in a short span, so focus on the strength of the evidence rather than an arbitrary cap:

- KEEP the score if the observations clearly mention the ball going over the bar (point) or into the net (goal) **and** there is any supporting sign (celebration, scoreboard change, kickout restart, etc.).
- REMOVE a score only if the narrative contradicts itself (e.g., immediate restart with a throw-up in the same spot) or if there is zero mention of the ball scoring.
- Multiple kickouts in one segment are acceptable when they follow legitimate scores. Use kickouts as supporting evidence, not as a hard limit.

Common false patterns to watch for:
- "Players walking to restart position" without a prior score description.
- Shots that never actually score (wide, saved, blocked).

**YOUR VALIDATION TOOLKIT:**

Use these GAA logic patterns to validate what you read:

**Forward validation (cause must lead to effect):**
- **Score (Point/Goal) → Kickout or celebration:** Real scores are usually followed by a kickout restart or clear celebratory language. If the score description is strong but the restart is missing, keep the score and simply note the restart is implied.
- **Foul → Free kick/Scoreable foul:** Usually (but not always) follows within 5-30s. Keep both if you see them.

**Backward validation (effect reveals cause):**
- **Kickout → Score:** If you see a kickout, look 5-20s before. Did the observations mention a shot or score? If yes, connect them ("Shot at goal, scores a point"). If not mentioned, don't infer it.
- **Throw-up → Stoppage:** Look 5-15s before. Was there a contested ball or stoppage? Connect them if explicitly mentioned.
- **Free kick → Foul:** Look 5-30s before. Was a whistle/foul mentioned? Connect them if found.

**Conservative inference principle:**
Only infer missing events if there's explicit evidence in the observations. Don't add events that weren't mentioned - that's just more hallucination!

**What to remove:**
- Sequences that are chronologically impossible (e.g., kickout before game starts)
- Scores that never mention the ball scoring and have no supporting cues
- Duplicate descriptions of the same event when only one actually happened

**OUTPUT FORMAT:**
Keep the same format as the input observations - organized by clip with timestamps:

[XXXs] clip_name: Brief summary of what happened.
11:25 - [Team color] player [ACTION DESCRIPTION]
11:33 - [Next event]

Keep it detailed for important events:
✅ GOOD: "11:25 - White player intercepts the pass in midfield"
❌ BAD: "11:25 - Play continues in midfield" (too vague - we lose the interception!)

**FINAL CHECKLIST BEFORE YOU FINISH:**
1. Did you keep every score (point/goal) that had clear "ball over bar" or "ball into net" language?
2. For any score you removed, did you document the reason in the validation notes?
3. Did you preserve possession changes? (intercepts, tackles, turnovers)
4. Did you preserve restarts? (kickouts, throw-ups)
5. Did you preserve attacks and shots?

Remember: You're helping us filter out hallucinations, not add more. When in doubt, be skeptical of dramatic claims (especially scores).

**Here are the observations from the video AI:**

{observations_block}

**Now create your coherent narrative:**

**FORMAT YOUR RESPONSE:**
1. Start immediately with the coherent narrative (same format as observations)
2. At the very END, add a brief validation note explaining any goals/kickoffs you removed

Example structure:
```
[680s] clip_name: Description
11:20 - Event description
11:25 - Event description
...
[rest of narrative]
...

---
VALIDATION NOTES:
- Removed score at XX:XX (no kickout after)
- Kept 1 throw-up total (at start of period)
```

Remember - count those kickouts! If you have many kickouts, verify they follow legitimate scores. Good luck!"""
